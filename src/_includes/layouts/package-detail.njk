---
layout: layouts/base.njk
---

{% from "components/molecules/hero-carousel.njk" import heroCarousel %}
{% from "components/molecules/itinerary.njk" import itinerary %}
{% from "components/atoms/button.njk" import button %}
{% from "components/organisms/cta-section.njk" import ctaSection %}

{% set package = packages[packageSlug] %}

<div class="page-package-detail">

  {# ============================================================
     SECTION 1 - HERO CAROUSEL
  ============================================================ #}

  {{ heroCarousel({
    images: package.images,
    alt: package.title
  }) }}


  {# ============================================================
     SECTION 2 - TWO COLUMN LAYOUT
  ============================================================ #}

  <section class="package-detail__body">
    <div class="package-detail__body-inner">

      {#  LEFT COLUMN  #}
      <div class="package-detail__main">

        {# Title + description #}
        <div class="package-detail__heading">
          <h1 class="package-detail__title">{{ package.title }}</h1>
          <p class="package-detail__description">{{ package.description }}</p>
        </div>

        {#  Tour Overview stat bar - only renders if tourOverview exists  #}
        {% if package.tourOverview and package.tourOverview.length %}
          <div class="package-detail__tour-overview">
            {% for stat in package.tourOverview %}
              <div class="package-detail__overview-stat">
                <span class="package-detail__overview-value">{{ stat.value }}</span>
                <span class="package-detail__overview-label">{{ stat.label }}</span>
              </div>
              {# Vertical divider between stats (not after last) #}
              {% if not loop.last %}
                <div class="package-detail__overview-divider" aria-hidden="true"></div>
              {% endif %}
            {% endfor %}
          </div>
        {% endif %}

        {# Highlights #}
        <div class="package-detail__highlights">
          <h2 class="package-detail__section-title">Tour Highlights</h2>
          <ul class="package-detail__highlights-list">
            {% for highlight in package.highlights %}
              <li class="package-detail__highlight-item">{{ highlight }}</li>
            {% endfor %}
          </ul>
        </div>

        {# Included / Not Included - two columns #}
        <div class="package-detail__inclusions">
          <div class="package-detail__inclusion-col">
            <h2 class="package-detail__section-title">What's Included?</h2>
            <ul class="package-detail__inclusion-list package-detail__inclusion-list--included">
              {% for item in package.included %}
                <li class="package-detail__inclusion-item">{{ item }}</li>
              {% endfor %}
            </ul>
          </div>
          <div class="package-detail__inclusion-col">
            <h2 class="package-detail__section-title">What's Excluded?</h2>
            <ul class="package-detail__inclusion-list package-detail__inclusion-list--excluded">
              {% for item in package.notIncluded %}
                <li class="package-detail__inclusion-item">{{ item }}</li>
              {% endfor %}
            </ul>
          </div>
        </div>

        {# Itinerary #}
        <div class="package-detail__itinerary">
          <h2 class="package-detail__section-title">Itinerary</h2>

          {% if package.quickInfo.destinations %}
            <p class="package-detail__route">{{ package.quickInfo.destinations }}</p>
          {% endif %}

          {{ itinerary({ items: package.itinerary }) }}
        </div>

      </div>

      {#  RIGHT COLUMN  #}
      <div class="package-detail__sidebar">

        {# Quick Info panel #}
        <div class="package-detail__quick-info">

          <h2 class="package-detail__panel-title">Quick Info</h2>

          <div class="package-detail__info-rows">

            {% if package.quickInfo.duration %}
              <div class="package-detail__info-row">
                <span class="package-detail__info-label">Duration</span>
                <span class="package-detail__info-value">{{ package.quickInfo.duration }}</span>
              </div>
            {% endif %}

            {% if package.quickInfo.price %}
              <div class="package-detail__info-row">
                <span class="package-detail__info-label">Price (Varies by group size & season)</span>
                <span class="package-detail__info-value">{{ package.quickInfo.price }}</span>
              </div>
            {% endif %}

            {% if package.quickInfo.destinations %}
              <div class="package-detail__info-row">
                <span class="package-detail__info-label">Destinations</span>
                <span class="package-detail__info-value">{{ package.quickInfo.destinations }}</span>
              </div>
            {% endif %}

            {% if package.quickInfo.accommodation %}
              <div class="package-detail__info-row">
                <span class="package-detail__info-label">Accommodation (Upgrades available)</span>
                <span class="package-detail__info-value">{{ package.quickInfo.accommodation }}</span>
              </div>
            {% endif %}

            {% if package.quickInfo.availability %}
              <div class="package-detail__info-row">
                <span class="package-detail__info-label">Tour Availability</span>
                <span class="package-detail__info-value">{{ package.quickInfo.availability }}</span>
              </div>
            {% endif %}

            {% if package.quickInfo.difficulty %}
              <div class="package-detail__info-row">
                <span class="package-detail__info-label">Difficulty</span>
                <span class="package-detail__info-value">{{ package.quickInfo.difficulty }}</span>
              </div>
            {% endif %}

            {% if package.quickInfo.bestTime %}
              <div class="package-detail__info-row">
                <span class="package-detail__info-label">Best Time to Visit</span>
                <span class="package-detail__info-value">{{ package.quickInfo.bestTime }}</span>
              </div>
            {% endif %}

            {% if package.quickInfo.elevation %}
              <div class="package-detail__info-row">
                <span class="package-detail__info-label">Elevation</span>
                <span class="package-detail__info-value">{{ package.quickInfo.elevation }}</span>
              </div>
            {% endif %}

          </div>

          {# Buttons #}
          <div class="package-detail__panel-actions">
            {{ button({
              text: "Book This Tour",
              variant: "primary",
              size: "lg",
              fullWidth: true,
              attrs: 'data-open-modal="book" data-package-title="' + package.title + '" data-package-duration="' + package.quickInfo.duration + '"'
            }) }}

            {{ button({
              text: "Customize Your Own",
              variant: "secondary",
              size: "lg",
              fullWidth: true,
              attrs: 'data-open-modal="customize"'
            }) }}
          </div>

          {% if package.pricing.note %}
            <p class="package-detail__panel-note">{{ package.pricing.note }}</p>
          {% endif %}

        </div>

        {# Got Questions panel #}
        <div class="package-detail__questions">
          <div class="package-detail__questions-content">
            <h2 class="package-detail__panel-title">Got Questions?</h2>
            <p class="package-detail__questions-body">We're happy to help!</p>
          </div>
          {{ button({
            text: "Contact Us ",
            variant: "secondary",
            size: "lg",
            fullWidth: true
          }) }}
        </div>

      </div>

    </div>
  </section>


  {# ============================================================
     SECTION 3 - CTA
  ============================================================ #}

  {{ ctaSection({
    heading: "Don't see what you're Looking for?",
    primaryBtn: "Customize Your Own",
    primaryModal: "customize",
    secondaryBtn: "Contact Us",
    secondaryHref: "/contact",
    image: "/images/rice-fields.jpg"
  }) }}


</div>