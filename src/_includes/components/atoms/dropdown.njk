{# =============================================================
   Dropdown Atom - dropdown.njk

   Parameters:
     name     {string} - select name attribute (required)
     label    {string} - label text shown above (required)
     required {boolean} - shows gradient asterisk after label (default: false)
     options  {array}  - list of { value, label } objects (default: [])
     selected {string} - value of pre-selected option (default: "")
     disabled {boolean} - disables the dropdown (default: false)

   Figma states mapped:
     placeholder       no option selected, #BABABA placeholder text
     focused           open, chevron flips 180deg, no border
     selected          option chosen, #4B5563 text, border visible
     focused-selected  open with a value already chosen
============================================================= #}

{%- macro dropdown({
  name = "",
  label = "",
  required = false,
  options = [],
  selected = "",
  disabled = false
}) -%}

<div class="dropdown-field">

  {% if label %}
    <div class="dropdown-field__label-row">
      <label class="dropdown-field__label" for="{{ name }}">{{ label }}</label>
      {% if required %}
        <span class="dropdown-field__required" aria-hidden="true">*</span>
      {% endif %}
    </div>
  {% endif %}

  <div class="dropdown-field__wrapper">
    <select
      class="dropdown"
      id="{{ name }}"
      name="{{ name }}"
      {% if required %}required{% endif %}
      {% if disabled %}disabled{% endif %}
    >
      <option value="" disabled {% if not selected %}selected{% endif %} hidden>
        Select an option
      </option>
      {% for option in options %}
        <option
          value="{{ option.value }}"
          {% if option.value == selected %}selected{% endif %}
        >
          {{ option.label }}
        </option>
      {% endfor %}
    </select>
  </div>

</div>

{%- endmacro -%}