{# =============================================================
   Input Atom - input.njk

   Parameters:
     name        {string}  - input name attribute (required)
     label       {string}  - label text shown above input (required)
     required    {boolean} - shows gradient asterisk after label (default: false)
     placeholder {string}  - placeholder text (default: "")
     type        {string}  - input type OR "textarea" (default: "text")
     value       {string}  - pre-filled value (default: "")
     disabled    {boolean} - disables the input (default: false)
     icon        {string}  - inline SVG string, shown on right (optional)
     rows        {number}  - textarea row height in px (default: 165)

   Figma states mapped:
     placeholder         empty input, #BABABA placeholder text
     focused             active, focus ring via CSS
     text-input          has value, #4B5563 text, border visible
     focused-text-input  active with value
============================================================= #}

{%- macro input({
  name = "",
  label = "",
  required = false,
  placeholder = "",
  type = "text",
  value = "",
  disabled = false,
  icon = "",
  rows = 165
}) -%}

<div class="input-field{% if type == 'textarea' %} input-field--textarea{% endif %}">

  {% if label %}
    <div class="input-field__label-row">
      <label class="input-field__label" for="{{ name }}">{{ label }}</label>
      {% if required %}
        <span class="input-field__required" aria-hidden="true">*</span>
      {% endif %}
    </div>
  {% endif %}

  {% if type == "textarea" %}

    <textarea
      class="input input--textarea"
      id="{{ name }}"
      name="{{ name }}"
      placeholder="{{ placeholder }}"
      style="height: {{ rows }}px"
      {% if required %}required{% endif %}
      {% if disabled %}disabled{% endif %}
    >{{ value }}</textarea>

  {% else %}

    <div class="input-field__wrapper">
      <input
        class="input"
        id="{{ name }}"
        type="{{ type }}"
        name="{{ name }}"
        placeholder="{{ placeholder }}"
        value="{{ value }}"
        {% if required %}required{% endif %}
        {% if disabled %}disabled{% endif %}
      />
      {% if icon %}
        <span class="input-field__icon" aria-hidden="true">
          {{ icon | safe }}
        </span>
      {% endif %}
    </div>

  {% endif %}

</div>

{%- endmacro -%}