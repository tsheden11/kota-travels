{#
  Icon Macro for Kota Travels
  
  Usage:
    {% from "src/_includes/components/icon.njk" import icon %}
    
    Decorative icon (no screen reader label):
    {{ icon("calendar") }}
    {{ icon("calendar", "icon--lg") }}
    {{ icon("calendar", "icon--lg text-primary") }}
    
    Accessible icon (with screen reader label):
    {{ icon("calendar", "icon", "Select date") }}
    {{ icon("mail", "icon--sm text-secondary", "Send email") }}
  
  Parameters:
    - name (required): Icon name without "icon-" prefix (e.g., "calendar", "mail")
    - className (optional): CSS classes to apply (default: "icon")
    - title (optional): Accessible label for screen readers. If provided, icon is not hidden from assistive tech
#}

{%- macro icon(name, className='icon', title='') -%}
  {%- set iconPath = "src/images/icons/icon-" + name + ".svg" -%}
  {%- if title and title | trim -%}
    {# Icon with accessible label #}
    <span class="{{ className }}" role="img" aria-label="{{ title }}">
      {%- include iconPath -%}
    </span>
  {%- else -%}
    {# Decorative icon #}
    <span class="{{ className }}" aria-hidden="true">
      {%- include iconPath -%}
    </span>
  {%- endif -%}
{%- endmacro -%}
