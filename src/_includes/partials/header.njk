<header class="navbar">
  <div class="navbar__container">

    {# Logo — left side #}
    <a href="/" class="navbar__logo" aria-label="Kota Travels home">
      <img src="/images/Logo.svg" alt="Kota Travels" />
    </a>

    {# Desktop nav links — right side #}
    <nav class="navbar__nav-wrapper">
      <ul class="navbar__links">
        {% for item in navLinks %}
          <li>
            <a
              href="{{ item.url }}"
              class="navbar__link{% if page.url == item.url %} navbar__link--active{% endif %}"
            >
              {{ item.name }}
            </a>
          </li>
        {% endfor %}
      </ul>
    </nav>

    {# Mobile hamburger — right side on mobile #}
    <button id="mobile-menu-button" class="navbar__hamburger" aria-label="Toggle menu">
      <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>

  </div>
</header>

{# Backdrop #}
<div id="mobile-menu-backdrop" class="mobile-backdrop"></div>

{# Mobile slide-out menu #}
<div id="mobile-menu" class="mobile-menu">
  <div class="mobile-menu__inner">

    <div class="mobile-menu__header">
      <span class="mobile-menu__title">Menu</span>
      <button id="mobile-menu-close" class="mobile-menu__close" aria-label="Close menu">
        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>

    <nav class="mobile-menu__nav">
      <ul class="mobile-menu__links">
        {% for item in navLinks %}
          <li>
            <a href="{{ item.url }}" class="mobile-menu__link">{{ item.name }}</a>
          </li>
        {% endfor %}
      </ul>
    </nav>

    <div class="mobile-menu__footer">
      <p class="mobile-menu__tagline">Authentic Bhutanese Journeys</p>
    </div>

  </div>
</div>

<script>
  (function() {
    const menuButton = document.getElementById('mobile-menu-button');
    const closeButton = document.getElementById('mobile-menu-close');
    const mobileMenu = document.getElementById('mobile-menu');
    const backdrop   = document.getElementById('mobile-menu-backdrop');

    function openMenu() {
      backdrop.classList.add('mobile-backdrop--visible');
      mobileMenu.classList.add('mobile-menu--open');
      document.body.style.overflow = 'hidden';
    }

    function closeMenu() {
      backdrop.classList.remove('mobile-backdrop--visible');
      mobileMenu.classList.remove('mobile-menu--open');
      document.body.style.overflow = '';
    }

    menuButton?.addEventListener('click', openMenu);
    closeButton?.addEventListener('click', closeMenu);
    backdrop?.addEventListener('click', closeMenu);
    mobileMenu?.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', closeMenu);
    });
  })();
</script>

<script async src="https://tally.so/widgets/embed.js"></script>