<header class="bg-white sticky top-0 z-50">
  <div class="container mx-auto px-6 relative">
    <nav class="flex items-center justify-between py-4 relative">

      <!-- Logo -->
      <div class="flex items-center">
        <img 
          src="/images/Logo.svg" 
          alt="Kota Travels logo" 
          class="h-20 w-auto"
        />
      </div>

      <!-- Desktop Navigation -->
      <ul class="hidden md:flex space-x-8 ml-auto">
        {% for item in navLinks %}
          <li>
            <a 
              href="{{ item.url }}" 
              class="heading-4 hover:text-yellow-600 focus:outline-none z-50 relative"
            >
              {{ item.name }}
            </a>
          </li>
        {% endfor %}
      </ul>

      <!-- Mobile Hamburger Button -->
      <button 
        id="mobile-menu-button" 
        class="md:hidden text-gray-700 hover:text-yellow-600 focus:outline-none z-50 relative" 
        aria-label="Toggle menu"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
           d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
    </nav>
  </div>
</header>

<!-- Backdrop Overlay -->
<div 
  id="mobile-menu-backdrop" 
  class="hidden fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden transition-opacity duration-300">
</div>

<!-- Mobile Menu -->
<div 
  id="mobile-menu" 
  class="fixed top-0 right-0 h-full w-80 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 ease-in-out z-50 md:hidden"
>
  <div class="flex flex-col h-full">

    <!-- Menu Header -->
    <div class="flex items-center justify-between p-6 border-b border-gray-100">
      <h2 class="text-xl font-bold text-yellow-600">Menu</h2>
      <button 
        id="mobile-menu-close" 
        class="text-gray-700 hover:text-yellow-600 focus:outline-none" 
        aria-label="Close menu"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>

    <!-- Menu Items -->
    <nav class="flex-1 overflow-y-auto p-6">
      <ul class="space-y-2">
        {% for item in navLinks %}
          <li>
            <a 
              href="{{ item.url }}"
              class="block text-gray-700 hover:text-yellow-600 hover:bg-yellow-50 transition-colors duration-200 font-medium py-3 px-4 rounded-lg"
            >
              {{ item.name }}
            </a>
          </li>
        {% endfor %}
      </ul>
    </nav>

    <!-- Footer -->
    <div class="p-6 border-t border-gray-100 bg-gradient-to-r from-yellow-50 to-orange-50">
      <p class="text-sm text-gray-600 text-center font-medium">
        Authentic Bhutanese Journeys
      </p>
    </div>
  </div>
</div>

<!-- Mobile Menu Script -->
<script>
  (function() {
    const menuButton = document.getElementById('mobile-menu-button');
    const closeButton = document.getElementById('mobile-menu-close');
    const mobileMenu = document.getElementById('mobile-menu');
    const backdrop = document.getElementById('mobile-menu-backdrop');

    function openMenu() {
      backdrop.classList.remove('hidden');
      setTimeout(() => backdrop.classList.add('opacity-100'), 10);
      mobileMenu.classList.remove('translate-x-full');
      document.body.style.overflow = 'hidden';
    }

    function closeMenu() {
      backdrop.classList.remove('opacity-100');
      setTimeout(() => backdrop.classList.add('hidden'), 300);
      mobileMenu.classList.add('translate-x-full');
      document.body.style.overflow = '';
    }

    menuButton?.addEventListener('click', openMenu);
    closeButton?.addEventListener('click', closeMenu);
    backdrop?.addEventListener('click', closeMenu);

    mobileMenu?.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', closeMenu);
    });
  })();
</script>

<script async src="https://tally.so/widgets/embed.js"></script>
